/* Mobile spacing and viewport fixes */

/* Use dynamic viewport on supported browsers to avoid extra space under banner */
@supports (height: 100dvh) {
  .banner {
    min-height: calc(100dvh - var(--header-h, 0px));
  }
}

/* Em telas menores, reduza a altura do banner para evitar espaço em branco */
@media (max-width: 820px) {

  /* Fallback genérico usando 100vh */
  .banner {
    min-height: min(72vh, calc(100vh - var(--header-h, 0px))) !important;
  }
}

@supports (height: 100dvh) {
  @media (max-width: 820px) {

    /* Preferir 100dvh quando suportado */
    .banner {
      min-height: min(72vh, calc(100dvh - var(--header-h, 0px))) !important;
    }
  }
}

/* Trim spacing before gallery on small screens */
@media (max-width: 820px) {
  .galeria {
    padding-top: 10px;
    margin-top: 0;
  }
}

/* Make banner a bit shorter on very small screens to reduce perceived gap */
@media (max-width: 480px) {
  .banner {
    min-height: min(70vh, calc(100dvh - var(--header-h, 0px))) !important;
  }
}

/* Smooth anchor scrolling for a nicer feel */
html {
  scroll-behavior: smooth;
}

/* Improve touch and layout on small screens */
@media (max-width: 820px) {

  /* Larger tap target for the menu button */
  header .menu-toggle {
    width: 44px;
    height: 44px;
  }

  /* Ensure grid items don't overflow lines */
  .galeria .galeria-item {
    min-width: 0;
  }

  /* Slightly tighter gallery gaps on narrow devices */
  .galeria .galeria-grid {
    gap: 12px;
  }
}

/* Prevent swipe handler from blocking vertical scroll */
.banner .banner-wrapper {
  touch-action: pan-y;
}

/* Evita que qualquer banner estoure o layout */
.banner .banner-slide {
  overflow: hidden;
}

.banner .banner-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Anchor offset so section titles don't stick to top when using menu links */
section {
  scroll-margin-top: clamp(56px, var(--header-h, 72px), 96px);
}

/* Hint to browser to skip offscreen image work on lazy-loaded imgs */
img[loading="lazy"] {
  content-visibility: auto;
}

/* Requested: force 2 columns only for the first gallery and Halloween, all viewports */
#galeria .galeria-grid {
  grid-template-columns: repeat(2, 1fr) !important;
}

#temas-halloween .galeria-grid {
  grid-template-columns: repeat(2, 1fr) !important;
}

#temas-harry .galeria-grid {
  grid-template-columns: repeat(2, 1fr) !important;
}

/* Make gallery tiles perfectly uniform across devices */
.galeria .galeria-item {
  aspect-ratio: 1 / 1;
}

.galeria .galeria-item img {
  object-fit: cover !important;
}

#galeria .galeria-item img {
  object-fit: cover !important;
}

/* Casamento: 2 colunas e imagens inteiras (sem corte) */
#temas-casamento .galeria-grid {
  grid-template-columns: repeat(2, 1fr) !important;
}

#temas-casamento .galeria-item {
  aspect-ratio: 4 / 3;
}

#temas-casamento .galeria-item img {
  object-fit: contain !important;
}

/* ====== Footer ====== */
.site-footer {
  background: #FFE5E9;
  border-top: 1px solid var(--border);
  padding: 16px 0;
}

.site-footer .footer-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.site-footer .footer-center .brand {
  font-family: 'Calistoga', serif;
  color: var(--brand-600);
  font-size: 22px;
}

.site-footer .footer-left small {
  color: var(--text-2);
  font-size: 12.5px;
}

.site-footer .footer-left a {
  color: var(--brand-600);
  text-decoration: none;
  border-bottom: 1px dotted var(--brand-600);
}

.site-footer .footer-left a:hover {
  color: var(--brand);
  border-bottom-color: transparent;
}

.site-footer .button {
  display: inline-block;
  border: 1px solid var(--brand);
  padding: 12px 20px;
  background: #C73250;
  color: white;
  text-decoration: none;
  border-radius: 12px;
}

.site-footer .button:hover {
  border-color: var(--brand-600);
  color: var(--brand-600);
  transform: scale(1.04);
  transition: .2s ease;
}

/* Footer mobile layout */
@media (max-width:820px) {
  .site-footer .footer-container {
    flex-direction: column;
    text-align: center;
  }

  .site-footer .footer-right {
    order: 3;
  }

  .site-footer .footer-center {
    order: 1;
  }

  .site-footer .footer-left {
    order: 2;
  }
}